{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap 4a292fa4d5b24e6cfa7e","webpack:///./src/Domain.js","webpack:///external \"strictduck-control-inverted\"","webpack:///external \"strictduck\"","webpack:///./src/domainDrivenStorePersistencePlugin.js","webpack:///./src/client.js","webpack:///./src/clientStore.js","webpack:///./src/server.js","webpack:///./src/fullstack.js","webpack:///./src/index.js","webpack:///./src/reactiveClient.js"],"names":["require","install","module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_objectWithoutProperties","keys","target","i","indexOf","Object","prototype","hasOwnProperty","_classCallCheck","instance","Constructor","TypeError","defineProperty","value","Domains","implementation","undefined","_typeof","Symbol","iterator","constructor","_createClass","defineProperties","props","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","_strictduck","_strictduckControlInverted","DomainType","extend","name","methods","Domain","_ref","_this","this","_ref$name","subdomains","prefix","forEach","subName","registerSubdomain","domain","replace","RegExp","type","_ref2","_this2","Array","isArray","register","implement","strictduck","withClass","typedMap","parent","provider","args","provides","_extends","implementDependent","assign","arguments","source","_Domain","FullstackPlugin","StorePersistencePlugin","DomainDrivenStorePersistencePlugin","implementable","depends","dependencies","_","DomainDrivenClient","Client","client","DomainDrivenClientStore","ClientStore","url","_client2","DomainDrivenServer","_client","_domainDrivenStorePersistencePlugin","_domainDrivenStorePersistencePlugin2","Server","server","_toConsumableArray","arr","arr2","from","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","_server","Fullstack","_Composit","domainsObj","domains","persister","_ref$context","context","resolve","satisfies","dependency","console","log","satisfied","filter","v","JSON","stringify","_Object$getPrototypeO","main","Class","method","getPrototypeOf","apply","concat","Composit","_interopRequireWildcard","newObj","storePersistencePlugin","clientStore","reactiveClient","_server2","_reactiveClient2","_reactiveClient","_clientStore2","_clientStore","_Domain2","_storePersistencePlugin","_fullstack","_fullstack2"],"mappings":"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","file":"index.js","sourcesContent":["require(\"source-map-support\").install();\nmodule.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(9);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Domains = exports.implementation = undefined;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _strictduck = __webpack_require__(3);\n\t\n\tvar _strictduck2 = _interopRequireDefault(_strictduck);\n\t\n\tvar _strictduckControlInverted = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DomainType = (0, _strictduck.extend)({\n\t    name: 'Domain',\n\t    methods: ['withPrefix', 'withoutPrefix', 'register', 'get']\n\t});\n\t\n\tvar Domain = function () {\n\t    function Domain(_ref) {\n\t        var _this = this;\n\t\n\t        var _ref$name = _ref.name;\n\t        var name = _ref$name === undefined ? \"\" : _ref$name;\n\t\n\t        var subdomains = _objectWithoutProperties(_ref, ['name']);\n\t\n\t        _classCallCheck(this, Domain);\n\t\n\t        this.prefix = name;\n\t        Object.keys(subdomains).forEach(function (subName) {\n\t            return _this.registerSubdomain({ name: subName, domain: subdomains[subName] });\n\t        });\n\t    }\n\t\n\t    _createClass(Domain, [{\n\t        key: 'withPrefix',\n\t        value: function withPrefix(name) {\n\t            return (this.prefix == \"\" ? \"\" : this.prefix + \"/\") + name;\n\t        }\n\t    }, {\n\t        key: 'withoutPrefix',\n\t        value: function withoutPrefix(name) {\n\t            return name.replace(new RegExp('^' + this.prefix + '/'), '');\n\t        }\n\t    }, {\n\t        key: 'register',\n\t        value: function register(type, name, value) {\n\t            this[type] = this[type] || {};\n\t            this[type][name] = value;\n\t        }\n\t    }, {\n\t        key: 'registerSubdomain',\n\t        value: function registerSubdomain(_ref2) {\n\t            var _this2 = this;\n\t\n\t            var name = _ref2.name;\n\t            var domain = _ref2.domain;\n\t\n\t            if ((typeof domain === 'undefined' ? 'undefined' : _typeof(domain)) == 'object' && !Array.isArray(domain)) {\n\t                Object.keys(domain).forEach(function (key) {\n\t                    return _this2.register(name, key, domain[key]);\n\t                });\n\t            } else {\n\t                this[name] = domain;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'get',\n\t        value: function get(type) {\n\t            return this[type] || {};\n\t        }\n\t    }]);\n\t\n\t    return Domain;\n\t}();\n\t\n\texports.default = Domain;\n\tvar implementation = exports.implementation = (0, _strictduck.implement)({ strictduck: DomainType, withClass: Domain });\n\t\n\tvar Domains = exports.Domains = (0, _strictduckControlInverted.typedMap)({ name: 'Domains', strictduck: Domain });\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"strictduck-control-inverted\");\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"strictduck\");\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.implement = implement;\n\t\n\tvar _strictduck = __webpack_require__(3);\n\t\n\tvar _strictduckControlInverted = __webpack_require__(2);\n\t\n\tvar _Domain = __webpack_require__(1);\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tvar FullstackPlugin = (0, _strictduck.extend)({\n\t    name: 'FullstackPlugin',\n\t    methods: []\n\t});\n\t\n\tvar StorePersistencePlugin = (0, _strictduck.extend)({\n\t    name: 'StorePersistencePlugin',\n\t    parent: FullstackPlugin,\n\t    methods: []\n\t});\n\t\n\tvar DomainDrivenStorePersistencePlugin = (0, _strictduck.extend)({\n\t    name: 'DomainDrivenStorePersistencePlugin',\n\t    parent: StorePersistencePlugin,\n\t    methods: [/*'middlewareGenerator', 'configure'*/]\n\t});\n\t\n\tvar implementDependent = (0, _strictduck.implementable)(_strictduckControlInverted.depends, {\n\t    parent: DomainDrivenStorePersistencePlugin,\n\t    dependencies: [_Domain.Domains],\n\t    constructor: function constructor(_ref) {\n\t        var Domains = _ref.Domains;\n\t        return _;\n\t    }\n\t});\n\t\n\tfunction implement(_ref2) {\n\t    var parent = _ref2.parent;\n\t    var constructor = _ref2.constructor;\n\t    var provider = _ref2.provider;\n\t    var name = _ref2.name;\n\t\n\t    var args = _objectWithoutProperties(_ref2, ['parent', 'constructor', 'provider', 'name']);\n\t\n\t    return (0, _strictduckControlInverted.provides)(_extends({\n\t        parent: implementDependent({ name: name + 'Dependent', constructor: constructor }),\n\t        name: name,\n\t        provider: provider\n\t    }, args));\n\t}\n\t\n\texports.default = DomainDrivenStorePersistencePlugin;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.DomainDrivenClient = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.implement = implement;\n\t\n\tvar _strictduck = __webpack_require__(3);\n\t\n\tvar _strictduckControlInverted = __webpack_require__(2);\n\t\n\tvar _Domain = __webpack_require__(1);\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tvar Client = (0, _strictduck.extend)({\n\t    name: 'Client',\n\t    methods: [/*'render'*/]\n\t});\n\t\n\tvar DomainDrivenClient = exports.DomainDrivenClient = (0, _strictduck.extend)({\n\t    name: 'DomainDrivenClient',\n\t    parent: Client,\n\t    methods: [/*'generateMiddleware'*/]\n\t});\n\t\n\tvar implementDependent = (0, _strictduck.implementable)(_strictduckControlInverted.depends, {\n\t    parent: DomainDrivenClient,\n\t    dependencies: [_Domain.Domains],\n\t    constructor: function constructor(_ref) {\n\t        var Domains = _ref.Domains;\n\t        var client = _ref.client;\n\t        return client(Domains);\n\t    }\n\t});\n\t\n\tfunction implement(_ref2) {\n\t    var parent = _ref2.parent;\n\t    var name = _ref2.name;\n\t\n\t    var args = _objectWithoutProperties(_ref2, ['parent', 'name']);\n\t\n\t    return (0, _strictduckControlInverted.provides)(_extends({\n\t        parent: implementDependent(args),\n\t        name: name\n\t    }, args));\n\t}\n\t\n\texports.default = DomainDrivenClient;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.DomainDrivenClientStore = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.implement = implement;\n\t\n\tvar _strictduck = __webpack_require__(3);\n\t\n\tvar _strictduckControlInverted = __webpack_require__(2);\n\t\n\tvar _Domain = __webpack_require__(1);\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tvar ClientStore = (0, _strictduck.extend)({\n\t    name: 'ClientStore',\n\t    methods: ['getState', 'dispatch', 'subscribe', 'replaceReducer']\n\t});\n\t\n\tvar DomainDrivenClientStore = exports.DomainDrivenClientStore = (0, _strictduck.extend)({\n\t    name: 'DomainDrivenClientStore',\n\t    parent: ClientStore,\n\t    methods: [/*'generateMiddleware'*/]\n\t});\n\t\n\tvar implementDependent = (0, _strictduck.implementable)(_strictduckControlInverted.depends, {\n\t    parent: DomainDrivenClientStore,\n\t    dependencies: [_Domain.Domains]\n\t});\n\t\n\tfunction implement(_ref) {\n\t    var parent = _ref.parent;\n\t\n\t    var args = _objectWithoutProperties(_ref, ['parent']);\n\t\n\t    return (0, _strictduckControlInverted.provides)(_extends({\n\t        parent: implementDependent(_extends({ parent: parent }, args))\n\t    }, args));\n\t}\n\t\n\texports.default = DomainDrivenClientStore;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.DomainDrivenServer = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.implement = implement;\n\t\n\tvar _strictduck = __webpack_require__(3);\n\t\n\tvar _strictduckControlInverted = __webpack_require__(2);\n\t\n\tvar _Domain = __webpack_require__(1);\n\t\n\tvar _client = __webpack_require__(5);\n\t\n\tvar _client2 = _interopRequireDefault(_client);\n\t\n\tvar _domainDrivenStorePersistencePlugin = __webpack_require__(4);\n\t\n\tvar _domainDrivenStorePersistencePlugin2 = _interopRequireDefault(_domainDrivenStorePersistencePlugin);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tvar Server = (0, _strictduck.extend)({\n\t    name: 'Server',\n\t    methods: ['use', 'listen']\n\t});\n\t\n\tvar DomainDrivenServer = exports.DomainDrivenServer = (0, _strictduck.extend)({\n\t    name: 'DomainDrivenServer',\n\t    parent: Server,\n\t    methods: ['generateMiddleware']\n\t});\n\t\n\tvar implementDependent = (0, _strictduck.implementable)(_strictduckControlInverted.depends, {\n\t    parent: DomainDrivenServer,\n\t    dependencies: [_Domain.Domains, _domainDrivenStorePersistencePlugin2.default],\n\t    constructor: function constructor(_ref) {\n\t        var Domains = _ref.Domains;\n\t        var server = _ref.server;\n\t        return server(Domains);\n\t    }\n\t});\n\t\n\tfunction implement(_ref2) {\n\t    var parent = _ref2.parent;\n\t    var constructor = _ref2.constructor;\n\t    var provider = _ref2.provider;\n\t    var name = _ref2.name;\n\t    var url = _ref2.url;\n\t\n\t    var args = _objectWithoutProperties(_ref2, ['parent', 'constructor', 'provider', 'name', 'url']);\n\t\n\t    return  true ? (0, _strictduckControlInverted.provides)(_extends({\n\t        parent: implementDependent({ name: name + 'Dependent', constructor: constructor }),\n\t        dependencies: [_client2.default],\n\t        name: name,\n\t        provider: provider,\n\t        url: url\n\t    }, args)) : { name: name, url: url };\n\t}\n\t\n\texports.default = DomainDrivenServer;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _strictduckControlInverted = __webpack_require__(2);\n\t\n\tvar _client = __webpack_require__(5);\n\t\n\tvar _server = __webpack_require__(7);\n\t\n\tvar _domainDrivenStorePersistencePlugin = __webpack_require__(4);\n\t\n\tvar _domainDrivenStorePersistencePlugin2 = _interopRequireDefault(_domainDrivenStorePersistencePlugin);\n\t\n\tvar _Domain = __webpack_require__(1);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Fullstack = function (_Composit) {\n\t    _inherits(Fullstack, _Composit);\n\t\n\t    function Fullstack(_ref) {\n\t        var domainsObj = _ref.domains;\n\t        var server = _ref.server;\n\t        var client = _ref.client;\n\t        var persister = _ref.persister;\n\t        var _ref$context = _ref.context;\n\t        var context = _ref$context === undefined ? 'NODE' : _ref$context;\n\t\n\t        _classCallCheck(this, Fullstack);\n\t\n\t        if (!_strictduckControlInverted.resolve.satisfies({ provider: persister, dependency: _domainDrivenStorePersistencePlugin2.default })) {\n\t            console.log('Persister spec not satisfield by ' + (persister.name || persister.constructor.name) + ', dropping optional component from composition');\n\t            persister = undefined;\n\t        }\n\t\n\t        var domains = new _Domain.Domains(domainsObj);\n\t\n\t        var satisfied = {\n\t            domains: _strictduckControlInverted.resolve.satisfies({ provider: domains, dependency: _Domain.Domains }) && true,\n\t            Server: _strictduckControlInverted.resolve.satisfies({ provider: server, dependency: _server.DomainDrivenServer }) && true,\n\t            Client: _strictduckControlInverted.resolve.satisfies({ provider: client, dependency: _client.DomainDrivenClient }) && true\n\t        };\n\t\n\t        if (!Object.keys(satisfied).filter(function (v) {\n\t            return !satisfied[v];\n\t        }).length) {\n\t            var _Object$getPrototypeO;\n\t\n\t            var main = context == 'NODE' ? { Class: _server.DomainDrivenServer, method: 'provide' } : { Class: _client.DomainDrivenClient, method: 'provide' };\n\t\n\t            var _this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Fullstack)).call.apply(_Object$getPrototypeO, [this, { main: main }, { dependency: _Domain.Domains, provider: domains }].concat(_toConsumableArray(persister ? [{ dependency: _domainDrivenStorePersistencePlugin2.default, provider: persister }] : []), [{ dependency: _server.DomainDrivenServer, provider: server }, { dependency: _client.DomainDrivenClient, provider: client }])));\n\t        } else {\n\t            throw TypeError('Fullstack composition requirements not satisfield: \\n ' + JSON.stringify(satisfied));\n\t        }\n\t        return _possibleConstructorReturn(_this);\n\t    }\n\t\n\t    return Fullstack;\n\t}(_strictduckControlInverted.Composit);\n\t\n\texports.default = Fullstack;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = exports.storePersistencePlugin = exports.Domain = exports.clientStore = exports.reactiveClient = exports.server = undefined;\n\t\n\tvar _server2 = __webpack_require__(7);\n\t\n\tvar _server = _interopRequireWildcard(_server2);\n\t\n\tvar _reactiveClient2 = __webpack_require__(10);\n\t\n\tvar _reactiveClient = _interopRequireWildcard(_reactiveClient2);\n\t\n\tvar _clientStore2 = __webpack_require__(6);\n\t\n\tvar _clientStore = _interopRequireWildcard(_clientStore2);\n\t\n\tvar _Domain2 = __webpack_require__(1);\n\t\n\tvar _Domain = _interopRequireWildcard(_Domain2);\n\t\n\tvar _domainDrivenStorePersistencePlugin = __webpack_require__(4);\n\t\n\tvar _storePersistencePlugin = _interopRequireWildcard(_domainDrivenStorePersistencePlugin);\n\t\n\tvar _fullstack = __webpack_require__(8);\n\t\n\tvar _fullstack2 = _interopRequireDefault(_fullstack);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\texports.server = _server;\n\texports.reactiveClient = _reactiveClient;\n\texports.clientStore = _clientStore;\n\texports.Domain = _Domain;\n\texports.storePersistencePlugin = _storePersistencePlugin;\n\texports.default = _fullstack2.default;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.implement = implement;\n\t\n\tvar _strictduck = __webpack_require__(3);\n\t\n\tvar _strictduckControlInverted = __webpack_require__(2);\n\t\n\tvar _client = __webpack_require__(5);\n\t\n\tvar _clientStore = __webpack_require__(6);\n\t\n\tvar _clientStore2 = _interopRequireDefault(_clientStore);\n\t\n\tvar _Domain = __webpack_require__(1);\n\t\n\tvar _domainDrivenStorePersistencePlugin = __webpack_require__(4);\n\t\n\tvar _domainDrivenStorePersistencePlugin2 = _interopRequireDefault(_domainDrivenStorePersistencePlugin);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tvar implementDependent = (0, _strictduck.implementable)(_strictduckControlInverted.depends, {\n\t    name: 'DomainDrivenReactiveClient',\n\t    parent: _client.DomainDrivenClient,\n\t    dependencies: [_Domain.Domains, _clientStore2.default, _domainDrivenStorePersistencePlugin2.default]\n\t});\n\t\n\tfunction implement(_ref) {\n\t    var parent = _ref.parent;\n\t    var constructor = _ref.constructor;\n\t\n\t    var args = _objectWithoutProperties(_ref, ['parent', 'constructor']);\n\t\n\t    return (0, _strictduckControlInverted.provides)(_extends({\n\t        parent: implementDependent({ constructor: constructor })\n\t    }, args));\n\t}\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** index.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4a292fa4d5b24e6cfa7e\n **/","import StrictDuck, { extend, implement } from 'strictduck'\nimport { typedMap, resolve } from 'strictduck-control-inverted'\n\nconst DomainType = extend({\n    name: 'Domain', \n    methods: ['withPrefix', 'withoutPrefix', 'register', 'get']\n})\n\nclass Domain {\n\n    constructor({name=\"\", ...subdomains}) {\n        this.prefix = name\n        Object.keys(subdomains).forEach(\n            subName => this.registerSubdomain({name: subName, domain: subdomains[subName]})\n        )\n    }\n\n    withPrefix(name) {\n        return (this.prefix == \"\" ? \"\" : this.prefix + \"/\") + name\n    }\n\n    withoutPrefix(name) {\n        return name.replace(new RegExp(`^${this.prefix}\\/`),'')\n    }\n\n    register(type, name, value) {\n        this[type] = this[type] || {}\n        this[type][name] = value\n    }\n\n    registerSubdomain({name, domain}) {\n        if(typeof(domain) == 'object' && !Array.isArray(domain)) {\n            Object.keys(domain).forEach(\n                key => this.register(name, key, domain[key])\n            )\n        } else {\n            this[name] = domain\n        }\n    }\n\n    get(type) {\n        return this[type] || {}\n    }\n}\n\nexport default Domain\nexport const implementation = implement({strictduck: DomainType, withClass: Domain})\n\nexport const Domains = typedMap({name: 'Domains', strictduck: Domain})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Domain.js\n **/","module.exports = require(\"strictduck-control-inverted\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"strictduck-control-inverted\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = require(\"strictduck\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"strictduck\"\n ** module id = 3\n ** module chunks = 0\n **/","import { extend, implementable } from 'strictduck'\nimport { depends, provides } from 'strictduck-control-inverted'\nimport { Domains } from './Domain'\n\nlet FullstackPlugin = extend({\n    name: 'FullstackPlugin', \n    methods: [],\n})\n\nlet StorePersistencePlugin = extend({\n    name: 'StorePersistencePlugin', \n    parent: FullstackPlugin, \n    methods: [],\n})\n\nlet DomainDrivenStorePersistencePlugin = extend({\n    name: 'DomainDrivenStorePersistencePlugin', \n    parent: StorePersistencePlugin, \n    methods: [/*'middlewareGenerator', 'configure'*/]\n})\n\nlet implementDependent = implementable(\n    depends,\n    {\n        parent: DomainDrivenStorePersistencePlugin,\n        dependencies: [Domains],\n        constructor: ({Domains}) => _\n    }\n)\n\nexport function implement({parent, constructor, provider, name, ...args}){\n    return provides({\n        parent: implementDependent({name: `${name}Dependent`, constructor}),\n        name,\n        provider,\n        ...args\n    })\n}\n\nexport default DomainDrivenStorePersistencePlugin\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/domainDrivenStorePersistencePlugin.js\n **/","import { extend, implementable } from 'strictduck'\nimport { depends, provides } from 'strictduck-control-inverted'\nimport { Domains } from './Domain'\n\nconst Client = extend({\n    name: 'Client', \n    methods: [/*'render'*/],\n})\n\nexport const DomainDrivenClient = extend({\n    name: 'DomainDrivenClient', \n    parent: Client, \n    methods: [/*'generateMiddleware'*/]\n})\n\nconst implementDependent = implementable(\n    depends,\n    {\n        parent: DomainDrivenClient,\n        dependencies: [Domains],\n        constructor: ({Domains, client}) => client(Domains)\n    }\n)\n\nexport function implement({parent, name, ...args}){\n    return provides(\n        {\n            parent: implementDependent(args),\n            name,\n            ...args\n        }\n    )\n}\n\nexport default DomainDrivenClient\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/client.js\n **/","import { extend, implementable } from 'strictduck'\nimport { depends, provides } from 'strictduck-control-inverted'\nimport { Domains } from './Domain'\n\nlet ClientStore = extend({\n    name: 'ClientStore', \n    methods: ['getState', 'dispatch', 'subscribe', 'replaceReducer'],\n})\n\nexport const DomainDrivenClientStore = extend({\n    name: 'DomainDrivenClientStore', \n    parent: ClientStore, \n    methods: [/*'generateMiddleware'*/]\n})\n\nconst implementDependent = implementable(\n    depends,\n    {\n        parent: DomainDrivenClientStore,\n        dependencies: [Domains]\n    }\n)\n\nexport function implement({parent, ...args}){\n    return provides(\n        {\n            parent: implementDependent({parent, ...args}),\n            ...args\n        }\n    )\n}\n\nexport default DomainDrivenClientStore\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/clientStore.js\n **/","import { extend, implementable } from 'strictduck'\nimport { depends, provides } from 'strictduck-control-inverted'\nimport { Domains } from './Domain'\nimport DomainDrivenClient from './client'\nimport DomainDrivenStorePersistencePlugin from './domainDrivenStorePersistencePlugin'\n\nconst Server = extend({\n    name: 'Server', \n    methods: ['use', 'listen'],\n})\n\nexport const DomainDrivenServer = extend({\n    name: 'DomainDrivenServer', \n    parent: Server, \n    methods: ['generateMiddleware']\n})\n\nconst implementDependent = implementable(\n    depends,\n    {\n        parent: DomainDrivenServer,\n        dependencies: [Domains, DomainDrivenStorePersistencePlugin],\n        constructor: ({Domains, server}) => server(Domains)\n    }\n)\n\nexport function implement({parent, constructor, provider, name, url, ...args}){\n    return ( $ES.CONTEXT == 'NODE' ) ?\n        provides(\n            {\n                parent: implementDependent({name: `${name}Dependent`, constructor}),\n                dependencies: [DomainDrivenClient],\n                name,\n                provider,\n                url,\n                ...args\n            }\n        ) : {name, url}\n}\n\nexport default DomainDrivenServer\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/server.js\n **/","import { Composit, resolve } from 'strictduck-control-inverted'\nimport { DomainDrivenClient as Client } from './client'\nimport { DomainDrivenServer as Server } from './server'\nimport Persister from './domainDrivenStorePersistencePlugin'\nimport { Domains } from './Domain'\n\nexport default class Fullstack extends Composit {\n    constructor({ domains: domainsObj, server, client, persister, context = 'NODE' }){\n\n        if(!resolve.satisfies({ provider: persister, dependency: Persister })){\n            console.log(`Persister spec not satisfield by ${persister.name || persister.constructor.name}, dropping optional component from composition`)\n            persister = undefined\n        }\n\n        let domains = new Domains(domainsObj);\n\n        let satisfied = {\n            domains: resolve.satisfies({ provider: domains, dependency: Domains }) && true,\n            Server : resolve.satisfies({ provider:  server, dependency: Server  }) && true,\n            Client : resolve.satisfies({ provider:  client, dependency: Client  }) && true\n        } \n\n        if(!Object.keys(satisfied).filter(v => !satisfied[v]).length) {\n\n            let main = ( context == 'NODE' ) ?\n                { Class: Server, method: 'provide' } :\n                { Class: Client, method: 'provide' }\n\n            super(\n                { main },\n                {dependency: Domains, provider: domains},\n                ...(persister ? [{dependency: Persister, provider: persister}] : []),\n                {dependency: Server, provider: server},\n                {dependency: Client, provider: client}\n            )\n        } else {\n            throw TypeError(`Fullstack composition requirements not satisfield: \\n ${JSON.stringify(satisfied)}`)\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/fullstack.js\n **/","export * as server from './server'\nexport * as reactiveClient from './reactiveClient'\nexport * as clientStore from './clientStore'\nexport * as Domain from './Domain'\n\nexport * as storePersistencePlugin from './domainDrivenStorePersistencePlugin'\n\nexport default from './fullstack'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import { extend, implementable } from 'strictduck'\nimport { depends, provides } from 'strictduck-control-inverted'\nimport { DomainDrivenClient } from './client'\nimport Store from './clientStore'\nimport { Domains } from './Domain'\nimport DomainDrivenStorePersistencePlugin from './domainDrivenStorePersistencePlugin'\n\nconst implementDependent = implementable(\n    depends,\n    {\n        name: 'DomainDrivenReactiveClient',\n        parent: DomainDrivenClient,\n        dependencies: [Domains, Store, DomainDrivenStorePersistencePlugin]\n    }\n)\n\nexport function implement({parent, constructor, ...args}){\n    return provides(\n        {\n            parent: implementDependent({constructor}),\n            ...args\n        }\n    )\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reactiveClient.js\n **/"],"sourceRoot":""}